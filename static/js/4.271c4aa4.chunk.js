(this.webpackJsonpcouchspinner=this.webpackJsonpcouchspinner||[]).push([[4],{160:function(e,s,t){},162:function(e,s,t){"use strict";t.r(s);var n=t(23),a=t(0),c=t(2),d=t(18),i=t.n(d),l=t(150),r=t.n(l),o=(t(160),t(17)),u=t(4);r.a.setAppElement("#root"),s.default=function(e){var s=e.messages,t=e.userId,d=e.names,l=Object(c.useState)(!1),j=Object(n.a)(l,2),m=j[0],g=j[1];return Object(a.jsxs)(u.g,{children:[Object(a.jsx)(u.e,{children:"Messages"}),Object(a.jsx)(u.b,{children:s.length?Object(a.jsxs)(a.Fragment,{children:[s.map((function(e){var s,n=function(e,s){if(e&&s)return parseInt(e.split(",").filter((function(e){return parseInt(e,10)!==s})).pop())}(null===e||void 0===e?void 0:e.user_ids_concatenated,t),c="".concat(null===e||void 0===e?void 0:e.user_ids_concatenated,"-").concat(null===e||void 0===e?void 0:e.created_at);return Object(a.jsxs)("button",{className:"Message",onClick:function(){return e.messages.length>0&&g(e)},children:[Object(a.jsx)(u.d,{className:"Profile-reference-type",names:d,id:n}),Object(a.jsx)("div",{className:"Message-preview",children:(null===(s=e.messages[e.messages.length-1])||void 0===s?void 0:s.body)||"Empty message."}),Object(a.jsxs)("div",{children:[(null===e||void 0===e?void 0:e.updated_at)&&Object(a.jsx)("span",{className:"Message-date",children:Object(o.a)(e.updated_at)}),Object(a.jsx)("br",{}),Object(a.jsxs)("span",{className:"Message-count",children:[0===e.messages.length&&"No messages.",1===e.messages.length&&"One message",e.messages.length>1&&"".concat(e.messages.length," messages")]})]})]},c)})),Object(a.jsx)(r.a,{isOpen:!!m,onRequestClose:function(){return g(!1)},contentLabel:"Message thread",children:Object(a.jsxs)("div",{className:"Message-thread",children:[Object(a.jsx)("button",{className:"Message-thread-close",onClick:function(){return g(!1)},children:"\xd7"}),m&&m.messages.map((function(e){return Object(a.jsxs)("div",{className:"Message-thread-message",children:[Object(a.jsxs)("div",{className:"Message-meta",children:[Object(a.jsx)(u.d,{className:"Profile-reference-type",id:null===e||void 0===e?void 0:e.author_id,names:d,userId:t}),(null===m||void 0===m?void 0:m.updated_at)&&Object(a.jsx)("span",{className:"Message-date",children:Object(o.a)(e.updated_at)})]}),(null===e||void 0===e?void 0:e.body)&&Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:i()(null===e||void 0===e?void 0:e.body)}}),!(null===e||void 0===e?void 0:e.body)&&Object(a.jsx)("p",{children:"Empty message."})]},e.id)}))]})})]}):Object(a.jsx)("p",{children:"No messages. :-("})})]})}}}]);
//# sourceMappingURL=4.271c4aa4.chunk.js.map