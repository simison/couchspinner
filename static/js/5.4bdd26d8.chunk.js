(this.webpackJsonpcouchspinner=this.webpackJsonpcouchspinner||[]).push([[5],{161:function(e,r,n){},163:function(e,r,n){"use strict";n.r(r);var t=n(0),c=(n(2),n(30)),s=n(7),i=n(18),a=n.n(i),o=(n(161),n(17)),l=n(5);function d(e,r){return e&&0!==e.length?e.filter((function(e){return e.experience===r})).length:0}function j(e,r){switch(e){case"surf":return r?"To surfer":"From surfer";case"host":return r?"To host":"From host";default:return r?"To member":"From member"}}function u(e){switch(e){case"positive":return"Positive";case"negative":return"Negative";case"neutral":return"Neutral";case"did_not_meet":return"Did not meet";default:return e}}function h(e){return e.sort((function(e,r){var n=e.created_at,t=r.created_at;return n<t?-1:n>t?1:0}))}function f(e){var r=e.list,n=e.userId,c=e.names;return r.map((function(e){var r=e.body,s=e.created_at,i=e.creator_id,d=e.experience,h=e.recipient_id,f=e.reference_type,b=e.response_body,p=e.response_created_at,x=i===n,O=x?h:i;return Object(t.jsxs)("div",{className:"Profile-reference",children:[Object(t.jsxs)("p",{className:"Profile-reference-meta",children:[x?j(f,x):Object(t.jsx)(t.Fragment,{children:Object(t.jsx)(l.d,{className:"Profile-reference-type",names:c,id:O,alt:j(f),append:Object(t.jsxs)(t.Fragment,{children:["host"===f&&"(host)","surf"===f&&"(surfer)"]})})}),d&&Object(t.jsxs)("strong",{className:"Profile-reference-experience Profile-reference-experience-".concat(d),children:["positive"===d&&"\u2605 ",u(d)]}),s&&Object(t.jsx)("span",{className:"Profile-reference-date",children:Object(o.a)(s)})]}),r&&Object(t.jsx)("p",{children:Object(t.jsx)("span",{dangerouslySetInnerHTML:{__html:a()(r)}})}),b&&Object(t.jsxs)("div",{className:"Profile-reference-response",children:[Object(t.jsxs)("p",{children:[Object(t.jsx)("strong",{children:"Response"}),p&&Object(t.jsx)("span",{className:"Profile-reference-date",children:" ".concat(Object(o.a)(p))})]}),Object(t.jsx)("p",{children:Object(t.jsx)("span",{dangerouslySetInnerHTML:{__html:a()(b)}})})]})]},"".concat(i,"-").concat(h,"-").concat(s))}))}r.default=function(e){var r,n,i=e.references,a=e.userId,o=e.names,j=h(null!==(r=null===i||void 0===i?void 0:i.written_references)&&void 0!==r?r:[]),u=h(null!==(n=null===i||void 0===i?void 0:i.received_references)&&void 0!==n?n:[]);return Object(t.jsx)(c.a,{children:Object(t.jsxs)(l.g,{children:[Object(t.jsx)(l.e,{children:"References"}),Object(t.jsxs)(l.b,{children:[Object(t.jsx)("p",{children:j.length?Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)("strong",{children:"".concat(j.length," written: ")}),"".concat(d(j,"positive")," positive, "),"".concat(d(j,"neutral")," neutral, and "),"".concat(d(j,"negative")," negative.")]}):"You didn't write references"}),Object(t.jsx)("p",{children:u.length?Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)("strong",{children:"".concat(u.length," received: ")}),"".concat(d(u,"positive")," positive, "),"".concat(d(u,"neutral")," neutral, and "),"".concat(d(u,"negative")," negative.")]}):"You didn't receive references"}),Object(t.jsx)(l.h,{routes:[{route:"/references",label:"Received references"},{route:"/references/written",label:"Written references"}]}),Object(t.jsxs)(s.c,{children:[Object(t.jsxs)(s.a,{exact:!0,path:"/references",children:[Object(t.jsx)("h3",{children:"Received references"}),Object(t.jsx)(f,{list:u,names:o,userId:a})]}),Object(t.jsxs)(s.a,{path:"/references/written",children:[Object(t.jsx)("h3",{children:"Written references"}),Object(t.jsx)(f,{list:j,names:o,userId:a})]})]})]})]})})}}}]);
//# sourceMappingURL=5.4bdd26d8.chunk.js.map